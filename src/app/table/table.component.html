<div class="min-h-screen bg-gray-100 flex flex-col items-center justify-start p-8">
  <header class="w-full p-4 flex items-center justify-between">
    <img src="assets/logo-single.png" alt="Logo" class="w-12 h-12 rounded-full" />
    <button mat-raised-button color="primary" (click)="openModal()">
      Create
    </button>
  </header>
  <div class="my-6 w-full max-w-md flex items-center">
    <mat-form-field class="w-full mr-4" appearance="outline">
      <mat-label>Search</mat-label>
      <input matInput placeholder="Search" [(ngModel)]="searchTerm" (ngModelChange)="applyFilter()" />
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
  </div>
  <div class="w-full max-w-4xl bg-white rounded-lg shadow-md p-4">
    <table mat-table [dataSource]="newsList" class="w-full">
      <!-- Table Columns -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef class="bg-green-200">ID</th>
        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
      </ng-container>
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef class="bg-green-200">Title</th>
        <td mat-cell *matCellDef="let row">
          <mat-form-field class="w-full" appearance="outline">
            <input matInput placeholder="Enter Title" [(ngModel)]="row.title" [disabled]="editingRow?.id !== row.id" />
          </mat-form-field>
        </td>
      </ng-container>
      <ng-container matColumnDef="content">
        <th mat-header-cell *matHeaderCellDef class="bg-green-200">Content</th>
        <td mat-cell *matCellDef="let row">
          <mat-form-field class="w-full" appearance="outline">
            <textarea matInput placeholder="Enter Content" rows="2" [(ngModel)]="row.content" [disabled]="editingRow?.id !== row.id"></textarea>
          </mat-form-field>
        </td>
      </ng-container>
      <ng-container matColumnDef="image">
        <th mat-header-cell *matHeaderCellDef class="bg-green-200">Image</th>
        <td mat-cell *matCellDef="let row">
          <mat-form-field class="w-full" appearance="outline">
            <mat-select [(ngModel)]="row.image" [disabled]="editingRow?.id !== row.id">
              <mat-option value="Image 1">Image 1</mat-option>
              <mat-option value="Image 2">Image 2</mat-option>
            </mat-select>
          </mat-form-field>
        </td>
      </ng-container>
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef class="bg-green-200">Date</th>
        <td mat-cell *matCellDef="let row">
          <mat-form-field class="w-full" appearance="outline">
            <input matInput [matDatepicker]="picker" [(ngModel)]="row.date" [disabled]="editingRow?.id !== row.id" />
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="bg-green-200">Actions</th>
        <td mat-cell *matCellDef="let row">
          <div *ngIf="editingRow?.id === row.id; else defaultActions">
            <button mat-raised-button color="primary" class="mr-2" (click)="saveRow(row)">
              Save
            </button>
            <button mat-raised-button color="warn" (click)="cancelEdit()">
              Cancel
            </button>
          </div>
          <ng-template #defaultActions>
            <button mat-raised-button color="accent" class="mr-2" (click)="editRow(row)">
              Edit
            </button>
          </ng-template>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  <!-- Modal -->
  <app-create-modal [isVisible]="isModalVisible" (closeModal)="isModalVisible = false" (formSubmit)="handleFormSubmit($event)"></app-create-modal>
</div>